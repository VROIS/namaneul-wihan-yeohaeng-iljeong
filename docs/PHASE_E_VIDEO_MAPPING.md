# 🎬 Phase E - 영상 프롬프트 매핑 표준

> **작성일: 2026-01-25** | **버전: 1.0**
> 
> 사용자 입력 9개 정보가 영상 생성에서 어떻게 활용되는지 정의한 표준 문서

---

## 🎯 핵심 원칙

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   📊 원소스 멀티유즈 (One Source Multi-Use)                                  │
│                                                                              │
│   ┌──────────────┐                                                          │
│   │  사용자 입력  │ ─────┬──────▶ 📅 일정표 (Gemini)                         │
│   │  (9개 정보)   │      │                                                   │
│   └──────────────┘      ├──────▶ 💰 예산 계산                                │
│                         │                                                    │
│                         ├──────▶ 🗺️ 지도/동선                                │
│                         │                                                    │
│                         └──────▶ 🎬 감동 영상 (Seedance)                     │
│                                                                              │
│   💡 동일한 입력 데이터가 모든 출력에 일관되게 반영                          │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 📋 사용자 입력 → 영상 매핑 테이블

| # | 입력 필드 | 일정표 활용 | 🎬 영상 활용 |
|---|----------|------------|-------------|
| 0 | **birthDate** (생년월일) | 가족 연령 추정 | **본인 캐릭터 연령대** (M1-M7, F1-F7) |
| 1 | **dates** (언제) | dayCount 계산 | **영상 분수** (3일 = 3분) |
| 2 | **startTime/endTime** | 슬롯 시작/종료 | (영상에는 미반영) |
| 3 | **companionType** (누구랑) | 차량/인원 결정 | **등장 캐릭터 수** (Single=1명, Family=4명) |
| 4 | **curationFocus** (누구를 위한) ⭐ | Gemini 주인공 | **대사 주인공** (Kids="야! 에펠탑!", Parents="여기 오고 싶었어") |
| 5 | **vibes** (취향) | 장소 선택 가중치 | **영상 분위기/톤** (Romantic=감성적, Foodie=먹방) |
| 6 | **travelPace** (일정 밀도) ⭐ | 슬롯 수 결정 | **클립 수/시간** + **피로도 표현** |
| 7 | **travelStyle** (예산) | 비용 등급 | **배경 퀄리티** + **이동 수단 결정** |
| 8 | **mobilityStyle** (이동) | 교통비 | **이동 장면 연출** (전용차/우버/대중교통/도보) |

---

## 🎭 curationFocus → 대사 주인공 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   🎭 대사 주인공 공식                                                        │
│                                                                              │
│   DIALOGUE_PROTAGONIST = f(curationFocus)                                    │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   curationFocus    대사 시점       대사 스타일         예시            ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   Kids        →   아이 시점    →  호기심, 신남     "와! 저기 봐요!"     ││
│   │                                   감탄사 多        "진짜 커요!"         ││
│   │                                   짧은 문장        "배고파요~"          ││
│   │                                                                        ││
│   │   Parents     →   어른 시점    →  회상, 감사       "여기 오고 싶었어요" ││
│   │                                   깊은 감정        "부모님이 좋아하시네"││
│   │                                   배려 표현        "천천히 가세요"      ││
│   │                                                                        ││
│   │   Self        →   나 혼자 시점 →  독백, 성찰       "드디어 왔다"        ││
│   │                                   버킷리스트       "꿈에 그리던 곳"     ││
│   │                                   SNS 느낌         "사진 찍어야지"      ││
│   │                                                                        ││
│   │   Everyone    →   가족 대화    →  화합, 소통       "다 같이 사진 찍자!" ││
│   │                                   균형 잡힌        "모두 재밌지?"       ││
│   │                                   포용적           "다음엔 어디 갈까?"  ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 🎨 vibes → 영상 분위기 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   🎨 영상 분위기 공식                                                        │
│                                                                              │
│   VIDEO_MOOD = f(vibes[0], vibes[1], vibes[2])                               │
│   가중치: 1순위 50%, 2순위 30%, 3순위 20%                                    │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   vibe         영상 분위기       연출 키워드            BGM 톤         ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   Romantic  →  감성적, 따뜻함  → soft lighting         잔잔한 피아노   ││
│   │                                  warm colors            어쿠스틱       ││
│   │                                  sunset glow                           ││
│   │                                                                        ││
│   │   Foodie    →  맛있는, 행복한  → delicious food         경쾌한 재즈    ││
│   │                                  happy eating           밝은 멜로디    ││
│   │                                  close-up shots                        ││
│   │                                                                        ││
│   │   Culture   →  경이로운, 호기심 → amazed expressions   클래식 오케스트라││
│   │                                   admiring art          장엄한 분위기  ││
│   │                                   grand architecture                   ││
│   │                                                                        ││
│   │   Adventure →  활동적, 신나는  → excited movements      업템포 팝      ││
│   │                                  energetic poses        신나는 비트    ││
│   │                                  action shots                          ││
│   │                                                                        ││
│   │   Relaxing  →  평화로운, 힐링  → peaceful scenery      뉴에이지        ││
│   │                                  calm expressions       자연 소리      ││
│   │                                  serene atmosphere                     ││
│   │                                                                        ││
│   │   Family    →  화목한, 따뜻한  → loving interactions   밝은 동요풍     ││
│   │                                  togetherness           따뜻한 기타    ││
│   │                                  group shots                           ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## ⏱️ travelPace → 클립 시간 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   ⏱️ 클립 시간 공식                                                          │
│                                                                              │
│   CLIP_CONFIG = f(travelPace)                                                │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   travelPace   슬롯/일   클립 수   클립당 시간   일별 영상   템포       ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   Relaxed   →   4곳   →   4개   →   15초      →   60초     느긋함      ││
│   │   Normal    →   6곳   →   6개   →   10초      →   60초     적당함      ││
│   │   Packed    →   8곳   →   8개   →    8초      →   64초     빠름        ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│   📝 계산 공식:                                                              │
│   • 클립 수 = 일별 장소 수                                                   │
│   • 클립당 시간 = 60초 ÷ 클립 수                                             │
│   • 총 영상 = dayCount × 60초                                                │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 🚗 이동 장면 연출 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   🚗 이동 장면 공식                                                          │
│                                                                              │
│   TRANSPORT_SCENE = f(travelStyle, mobilityStyle)                            │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   travelStyle    mobilityStyle    이동 수단         영상 연출          ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   💎 Luxury      Minimal       → 전용 세단/밴      편안하게 창밖 구경   ││
│   │   ⭐ Premium     Minimal       → 전용 세단/밴      여유롭게 대화        ││
│   │                                                                        ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   🚕 Reasonable  Moderate      → 우버 + 대중교통   우버 3구간/일 표현   ││
│   │                  WalkMore      → 대중교통 + 도보   지하철/버스 타는 장면││
│   │                                                                        ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   💰 Economic    WalkMore      → 대중교통만        지하철역 계단 오르기 ││
│   │                  Moderate      → 대중교통 + 도보   버스 정류장 기다림   ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 🎬 이동 장면 대사 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   🎬 이동 대사 공식                                                          │
│                                                                              │
│   TRANSPORT_DIALOGUE = f(transport_type, curationFocus)                      │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   이동수단      Kids 주인공              Parents 주인공                ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   전용차량   "차에서 과자 먹어도 돼요?"  "편하게 가니까 좋다"           ││
│   │   우버       "우버 아저씨 안녕하세요!"   "여기서 내리면 되겠네"         ││
│   │   지하철     "지하철 진짜 빠르다!"       "다리 좀 쉬자..."              ││
│   │   버스       "창밖에 에펠탑 보여요!"     "버스가 왜 이리 안 오지"        ││
│   │   도보       "다리 아파요~"              "조금만 더 걷자"               ││
│   │                                                                        ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   이동수단      Self 주인공              Everyone 주인공               ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   전용차량   "VIP 느낌이네"              "다들 편해?"                   ││
│   │   우버       "드디어 우버 잡았다"        "다 탔지?"                     ││
│   │   지하철     "로컬처럼 타보자"           "이쪽으로 갈아타야 해"         ││
│   │   버스       "버스 여행도 괜찮네"        "다음 정류장이야"              ││
│   │   도보       "걸으면서 구경하는 맛이지"  "천천히 가자"                  ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 😓 피로도 표현 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   😓 피로도 공식                                                             │
│                                                                              │
│   FATIGUE_LEVEL = f(mobilityStyle, travelPace)                               │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │                                                                        ││
│   │   조합                              피로도   영상 연출                 ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   WalkMore + Packed   (많이 걷기+빡빡)  → 😰 높음                       ││
│   │     → "다리 아파..." 땀 흘리는 표정, 벤치에 주저앉음                   ││
│   │                                                                        ││
│   │   WalkMore + Normal                     → 😅 중간                       ││
│   │     → 가끔 벤치에 앉아 쉬는 장면, 물 마시기                            ││
│   │                                                                        ││
│   │   WalkMore + Relaxed                    → 😊 낮음                       ││
│   │     → 여유롭게 산책하는 분위기, 주변 구경                              ││
│   │                                                                        ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   Moderate + Packed                     → 😅 중간                       ││
│   │     → 우버 3번/일 + 약간 지친 표정                                     ││
│   │                                                                        ││
│   │   Moderate + Normal                     → 😊 낮음                       ││
│   │     → 우버 2번/일 + 적당히 편안                                        ││
│   │                                                                        ││
│   │   Moderate + Relaxed                    → 😌 매우 낮음                  ││
│   │     → 우버 1번/일 + 여유로운 이동                                      ││
│   │                                                                        ││
│   │   ────────────────────────────────────────────────────────────────────  ││
│   │                                                                        ││
│   │   Minimal (전용차량)                    → 😌 없음                       ││
│   │     → 항상 편안, 피로 표현 없음, 차 안에서 웃는 모습                   ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 👨‍👩‍👧‍👦 캐릭터 구성 수식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│   👨‍👩‍👧‍👦 캐릭터 구성 공식                                                        │
│                                                                              │
│   CHARACTERS = f(birthDate, companionType, companionAges)                    │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │ 1. 본인 캐릭터 결정 (birthDate → 연령대)                               ││
│   │                                                                        ││
│   │    연령대 = 현재년도 - 출생년도                                        ││
│   │    캐릭터ID = 연령대 → M/F + 번호                                      ││
│   │                                                                        ││
│   │    연령대        남성 캐릭터    여성 캐릭터                             ││
│   │    ──────────────────────────────────────────────────────────────────  ││
│   │    10세 미만  →    M1            F1                                    ││
│   │    10대       →    M2            F2                                    ││
│   │    20대       →    M3            F3                                    ││
│   │    30대       →    M4            F4                                    ││
│   │    40대       →    M5            F5                                    ││
│   │    50대       →    M6            F6                                    ││
│   │    60대 이상  →    M7            F7                                    ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │ 2. 동행 구성 (companionType → 예상 구성)                               ││
│   │                                                                        ││
│   │    companionType   인원   기본 구성                                    ││
│   │    ──────────────────────────────────────────────────────────────────  ││
│   │    Single       →  1명  → 본인만                                       ││
│   │    Couple       →  2명  → 본인 + 파트너                                ││
│   │    Family       →  4명  → 부부 + 아이 2명                              ││
│   │    ExtendedFamily→ 7명  → 3대 가족 (조부모 + 부모 + 아이들)            ││
│   │    Friends      →  N명  → 친구들 (비슷한 연령대)                       ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────────┐│
│   │ 3. 가족 연령 추정 공식 (birthDate 기반)                                ││
│   │                                                                        ││
│   │    사용자 나이 = 현재년도 - birthDate.year                             ││
│   │                                                                        ││
│   │    추정 공식:                                                          ││
│   │    • 자녀 나이 = 사용자 나이 - 30 (예: 45세 → 자녀 15세)               ││
│   │    • 조부모 나이 = 사용자 나이 + 25 (예: 45세 → 조부모 70세)           ││
│   │    • 배우자 나이 ≈ 사용자 나이 (±3세)                                  ││
│   │                                                                        ││
│   │    예시 (사용자 45세, Family):                                         ││
│   │    → 본인: M5/F5 (40대)                                                ││
│   │    → 배우자: M5/F5 (40대)                                              ││
│   │    → 자녀1: M2/F2 (10대, 15세)                                         ││
│   │    → 자녀2: M1/F1 (10세 미만, 7세)                                     ││
│   │                                                                        ││
│   └────────────────────────────────────────────────────────────────────────┘│
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 🔄 Gemini 프롬프트 JSON 출력 형식

```json
{
  "itineraryId": 123,
  "dayCount": 3,
  "protagonist": {
    "type": "Kids",
    "characterId": "M1",
    "age": 8
  },
  "companions": [
    { "characterId": "M5", "role": "아빠", "age": 45 },
    { "characterId": "F5", "role": "엄마", "age": 43 },
    { "characterId": "F7", "role": "할머니", "age": 70 }
  ],
  "vibes": ["Family", "Relaxing", "Culture"],
  "travelPace": "Normal",
  "transportType": "우버+대중교통",
  "days": [
    {
      "day": 1,
      "clipCount": 6,
      "clipDuration": 10,
      "scenes": [
        {
          "order": 1,
          "placeName": "에펠탑",
          "placeType": "landmark",
          "duration": 10,
          "prompt": "A cute 8-year-old Korean boy pointing excitedly at Eiffel Tower, surrounded by family including grandmother, soft morning light, Studio Ghibli style, warm colors",
          "dialogue": {
            "protagonist": "와! 저기 봐요! 에펠탑이에요!",
            "reactions": [
              { "characterId": "M5", "text": "그래, 정말 멋지지?" },
              { "characterId": "F7", "text": "할머니도 처음 봤을 때 이랬단다" }
            ]
          },
          "mood": "excited",
          "isTransport": false
        },
        {
          "order": 2,
          "placeName": "에펠탑 → 루브르 박물관",
          "placeType": "transport",
          "duration": 5,
          "prompt": "Korean family riding Uber through Paris streets, child looking out window curiously, grandmother smiling, Studio Ghibli style",
          "dialogue": {
            "protagonist": "우버 아저씨, 감사합니다!",
            "reactions": [
              { "characterId": "F5", "text": "루브르까지 얼마나 걸려요?" }
            ]
          },
          "mood": "comfortable",
          "isTransport": true
        }
      ]
    }
  ]
}
```

---

## 📊 요약: 입력 → 영상 완전 매핑

| 입력 | 영상 요소 | 적용 위치 |
|-----|---------|---------|
| birthDate | 본인 캐릭터 | 모든 장면 |
| dates | 영상 길이 (분) | 전체 구조 |
| companionType | 등장 캐릭터 수 | 모든 장면 |
| companionAges | 동행 캐릭터 연령대 | 모든 장면 |
| **curationFocus** ⭐ | **대사 시점/스타일** | **모든 대사** |
| **vibes** | **분위기/톤/BGM** | **모든 장면** |
| **travelPace** ⭐ | **클립 수/시간** | **영상 템포** |
| travelStyle | 배경 퀄리티 | 장소 장면 |
| mobilityStyle | 이동 수단/피로도 | 이동 장면 |

---

## 🔗 관련 문서

- [PHASE_E_ARCHITECTURE.md](./PHASE_E_ARCHITECTURE.md) - 전체 아키텍처
- [PHASE_E_TASK.md](./PHASE_E_TASK.md) - 작업 목록
- [TASK.md](./TASK.md) - 8가지 사용자 입력 원본 정의

소스 자료와 이전 논의된 시스템 아키텍처를 바탕으로, **'누비(Nubi)'** 앱의 핵심인 **Vibe(감성), Buzz(화제성), Reality(현실)** 데이터를 확보하기 위해 인스타그램, 틱톡, 구글 빅데이터를 **로우 데이터(Raw Data)** 형태로 가져오는 구체적인 기술적 방법과 파이프라인을 정리해 드립니다.

`TASK.md`와 기술 문서에 정의된 **'데이터 수집 엔진(Crawler & Fetcher)'** 구현을 위한 실질적인 가이드입니다.

---

### 1. 🗺️ 구글 (Google): 정형 데이터 및 현실 정보 (Reality)
구글 데이터는 API가 잘 갖춰져 있어 가장 안정적으로 로우 데이터를 확보할 수 있는 소스입니다.

*   **수집 방법:** **Google Maps Platform APIs** 활용
*   **구체적인 접근법:**
    1.  **Places API (New):** 장소의 기본 정보(영업시간, 위치), 평점, **리뷰 텍스트**, **고화질 사진**을 JSON 형태로 가져옵니다.
    2.  **YouTube Data API v3:** 특정 장소나 키워드(예: "파리 에펠탑 맛집")와 관련된 **Shorts 영상 URL, 썸네일, 자막(Transcript)** 데이터를 수집합니다.
    3.  **Gemini Web Search:** 구글 맵 리뷰만으로는 부족한 최신 정보(블로그, 뉴스)를 수집하기 위해, Gemini에게 "최근 1개월 내 파리 파업 뉴스 검색해줘"와 같은 프롬프트로 웹 검색 결과를 텍스트로 받아옵니다.

### 2. 📱 인스타그램 & 틱톡 (SNS): 비정형 감성 데이터 (Vibe & Buzz)
SNS는 공식 API의 제한이 많으므로, **'스크래핑(Scraping)'** 또는 **'서드파티 툴'**을 활용한 하이브리드 전략이 필요합니다.

*   **수집 방법 A: 에이전트 기반 자동화 (Thunderbit 활용)**
    *   소스,에 따르면, **Thunderbit**과 같은 'Agentic Automation' 툴을 사용하면 복잡한 코드 없이 웹사이트의 데이터를 엑셀이나 JSON으로 긁어올 수 있습니다.
    *   **구현:** "인스타그램 #ParisCafe 해시태그 인기 게시물 상위 50개의 이미지 URL과 좋아요 수를 가져와"라고 에이전트에게 명령하여 데이터를 추출합니다.

*   **수집 방법 B: 전문 크롤링 서비스 (Apify / PhantomBuster)**
    *   개발 리소스를 아끼기 위해 **Apify**와 같은 클라우드 크롤러를 사용합니다.
    *   **Instagram Scraper:** 해시태그(#)나 위치 태그(Location ID)를 입력하면, 해당 게시물의 **이미지 URL, 캡션, 좋아요 수, 댓글**을 JSON으로 반환합니다.
    *   **TikTok Scraper:** 특정 트렌드 키워드 검색 결과의 영상 메타데이터(조회수, 사용된 음악, 해시태그)를 수집하여 **'현재 뜨는(Buzz)'** 장소인지 판단합니다.

### 3. 🧠 로우 데이터 가공 및 점수화 (Vibe Processor)
수집한 날것의 데이터(이미지, 텍스트)를 앱에서 사용할 수 있는 **'점수(Score)'**로 변환하는 핵심 단계입니다. (소스, 참조)

*   **이미지 데이터 (인스타/구글 포토) → Vibe Score**
    *   **도구:** **Gemini Vision API**
    *   **로직:** 수집된 사진을 Gemini에게 보내 분석합니다.
        *   *프롬프트:* "이 사진의 조명, 색감, 구도를 분석해서 '로맨틱한', '힙한', '전통적인' 점수를 0~10점으로 매겨줘."
    *   **결과:** 시각적 데이터를 정량적인 숫자로 변환하여 DB에 저장합니다.

*   **텍스트 데이터 (리뷰/캡션) → Buzz & Reality Score**
    *   **도구:** **Gemini Pro (Text)**
    *   **로직:** 리뷰와 캡션 텍스트를 분석합니다.
        *   *Buzz:* "현지인", "웨이팅", "요즘 뜨는" 키워드 빈도 분석 → **Local_Buzz Score**.
        *   *Reality:* "공사 중", "불친절", "비쌈" 키워드 감지 → **Penalty Score**.

### 4. ⚙️ 자동화 파이프라인 구축 (System Workflow)
이 모든 과정을 매일 수동으로 할 수 없으므로, 소스에 계획된 **'자동 수집 스케줄'**을 구현해야 합니다.

1.  **Trigger (새벽 3시 KST):** 한국 트래픽이 적은 시간에 배치(Batch) 작업 시작.
2.  **Fetcher:**
    *   Google Places API로 기본 정보 갱신.
    *   Apify/Thunderbit으로 SNS 최신 게시물 크롤링.
3.  **Processor:** 수집된 데이터를 Gemini API에 통과시켜 점수(Vibe/Reality) 계산.
4.  **Storage:** 처리된 데이터를 `Final_Score`와 함께 DB(PostgreSQL/Vector DB)에 저장.
5.  **Service:** 앱에서는 이미 가공된 DB 데이터를 호출하여 **빠르게** 보여줌 (실시간 로딩 지연 방지).

### 💡 주의사항 (Reality Check)
*   **API 비용:** Google Maps와 Gemini API 호출 비용이 발생하므로, 한 번 분석한 데이터는 **캐싱(Caching)**하여 재사용해야 합니다.
*   **플랫폼 정책:** 인스타그램/틱톡의 무단 크롤링은 계정 차단 위험이 있으므로, **Apify** 같은 전문 대행 서비스를 이용하거나, 공식 **Instagram Graph API**의 제한된 범위 내에서 사용하는 것이 안전합니다.

이 방식을 통해 사용자님은 단순한 정보 나열이 아닌, **"전 세계의 최신 데이터를 긁어와 AI가 감성과 현실을 분석해 준 결과"**를 앱에 제공할 수 있습니다.
# 🔧 VibeTrip 환경변수 설정 가이드

## 📌 핵심 원칙
- **두뇌 = 관리자 대시보드** (`/admin`)
- **뇌용량 = DB (Neon, 30개 테이블)**
- **프론트엔드 = 껍데기** (미리보기용)

---

## 🔑 필수 환경변수

### 1. 데이터베이스 (Neon PostgreSQL)
```bash
DATABASE_URL=postgresql://user:password@host.neon.tech/dbname?sslmode=require
```
**위치**: Neon 대시보드 → Connection String 복사

---

### 2. 프론트엔드 API 연결
```bash
# 로컬 개발 환경
EXPO_PUBLIC_DOMAIN=localhost:5000
```

---

### 3. AI (Gemini)
```bash
AI_INTEGRATIONS_GEMINI_API_KEY=your_gemini_api_key
```
**위치**: Replit AI 통합 또는 Google AI Studio

---

### 4. Google Maps API (선택)
```bash
GOOGLE_MAPS_API_KEY=your_google_maps_key
# 또는
Google_maps_api_key=your_google_maps_key
```

---

### 5. 기타 API (선택)
```bash
OPENWEATHER_API_KEY=your_openweather_key
YOUTUBE_API_KEY=your_youtube_key
```

---

## 📝 .env 파일 생성 방법

### Windows (PowerShell)
```powershell
# 프로젝트 루트에 .env 파일 생성
@"
DATABASE_URL=postgresql://user:password@host.neon.tech/dbname?sslmode=require
EXPO_PUBLIC_DOMAIN=localhost:5000
AI_INTEGRATIONS_GEMINI_API_KEY=your_key_here
"@ | Out-File -FilePath .env -Encoding utf8
```

### 또는 수동 생성
1. 프로젝트 루트에 `.env` 파일 생성
2. 위 환경변수들을 복사해서 붙여넣기
3. 실제 값으로 교체

---

## ✅ 확인 방법

### 1. 서버 실행 확인
```bash
npm run server:dev
```
- `express server serving on port 5000` 메시지 확인
- DB 연결 오류가 없어야 함

### 2. 관리자 대시보드 접근
브라우저에서: `http://localhost:5000/admin`
- 실시간 DB 상태 확인 가능
- 30개 테이블 데이터 확인

### 3. 프론트엔드 실행 확인
```bash
npx expo start
```
- QR 코드 또는 `http://localhost:8081` 접근
- API 연결 확인

---

## 🚨 문제 해결

### DATABASE_URL 오류
```
Error: DATABASE_URL must be set
```
→ `.env` 파일에 `DATABASE_URL` 추가

### EXPO_PUBLIC_DOMAIN 오류
```
Error: EXPO_PUBLIC_DOMAIN is not set
```
→ `.env` 파일에 `EXPO_PUBLIC_DOMAIN=localhost:5000` 추가

### CORS 오류
→ `server/index.ts`의 CORS 설정에 `localhost` 추가 필요

---

## 📊 관리자 대시보드 확인 항목

1. **DB 연결 상태**: `/admin` → 대시보드
2. **API 서비스 상태**: 실시간 연결 확인
3. **데이터 수집 현황**: YouTube 채널, 블로그 소스
4. **30개 테이블 데이터**: 직접 확인 가능

---

**작성일**: 2026-01-09
